# pymmw: ä¸“ä¸š TI æ¯«ç±³æ³¢é›·è¾¾å¼€å‘æ¡†æ¶æŠ€æœ¯ç»¼è¿°

## 1. é¡¹ç›®æ¦‚è§ˆ
`pymmw` æ˜¯ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§ã€æ¨¡å—åŒ–çš„ Python ç”Ÿæ€ç³»ç»Ÿï¼Œä¸“ä¸ºä¸ Texas Instruments (TI) æ¯«ç±³æ³¢ä¼ æ„Ÿå™¨ï¼ˆå¦‚ IWR1843ã€IWR6843ï¼‰äº¤äº’è€Œè®¾è®¡ã€‚å®ƒå¡«è¡¥äº†ç¡¬ä»¶åº•å±‚æ•°æ®ä¸é«˜å±‚å¯è§†åŒ–/åˆ†æä¹‹é—´çš„é¸¿æ²Ÿï¼Œç”±äºå…¶é«˜åº¦çš„çµæ´»æ€§ï¼Œæ—¢é€‚ç”¨äºå­¦æœ¯ç ”ç©¶ï¼Œä¹Ÿé€‚ç”¨äºå¿«é€ŸåŸå‹å¼€å‘ã€‚

## 2. æ ¸å¿ƒæ¶æ„
é¡¹ç›®é‡‡ç”¨äº†é«˜åº¦è§£è€¦çš„ä¸‰å±‚æ¶æ„è®¾è®¡ï¼š

### 2.1 ç•Œé¢ä¸å…¥å£å±‚ (Interface Layer)
*   **`pymmw.py`**: ä¸»è¦çš„å‘½ä»¤è¡Œå…¥å£ã€‚æ”¯æŒå›ºä»¶è‡ªåŠ¨æ¢æµ‹å’Œ Handler è‡ªåŠ¨åˆ†é…ï¼Œèƒ½æ ¹æ®é›·è¾¾è¿”å›çš„æ¡æ‰‹ä¿¡æ¯è‡ªåŠ¨åŠ è½½å¯¹åº”çš„è§£ææ¨¡å—ã€‚
*   **`pymmw_gui.py`**: åŸºäº Tkinter çš„é«˜æ€§èƒ½å¯è§†åŒ–å¥—ä»¶ã€‚æä¾›åŒæ­¥çš„è·ç¦»å‰–é¢ (Range Profile)ã€3D ç‚¹äº‘ã€ä»¥åŠçƒ­å›¾æ˜¾ç¤ºã€‚

### 2.2 é©±åŠ¨ä¸è§£æå±‚ (MSS Layer)
*   **`mss/x8_mmw.py`**: æ•°æ®è§£æçš„æ ¸å¿ƒã€‚
    *   **SDK 3.5+ å®Œæ•´æ”¯æŒ**: èƒ½å¤Ÿæ­£ç¡®è§£æ 16 å­—èŠ‚çš„ `float32` æ ¼å¼ç‚¹äº‘ï¼ˆx, y, z, vï¼‰ï¼Œç¬¦åˆç°ä»£ TI SDK çš„æ ‡å‡†ã€‚
    *   **TLV åè®®æ‹†è§£**: é«˜æ•ˆåœ°ä»æ•°æ®ç«¯å£æµä¸­æå–ã€æ ¡éªŒå¹¶è§£æ„ Type-Length-Value æ•°æ®åŒ…ã€‚

### 2.3 è®¡ç®—å·¥åº“ (Computation Library)
*   **`lib/helper.py`**: ä¸“ä¸šçš„ä¿¡å·å¤„ç†è¾…åŠ©åº“ã€‚å®ƒç›´æ¥è§£æé›·è¾¾çš„ `.cfg` é…ç½®æ–‡ä»¶ï¼Œå®æ—¶è®¡ç®—è·ç¦»åˆ†è¾¨ç‡ã€æœ€å¤§å¤šæ™®å‹’é€Ÿåº¦ã€æ‰«é¢‘å¸¦å®½ç­‰å…³é”®ç‰©ç†å‚æ•°ã€‚
*   **`lib/shell.py`**: å°è£…äº†åº•å±‚ UART é€šä¿¡é€»è¾‘å’Œé…ç½®ä¸‹å‘åºåˆ—ã€‚

---

## 3. æŠ€æœ¯äº®ç‚¹

### ğŸš€ å®æ—¶ä¿¡å·é‡å»º
`pymmw` ä¸ä»…ä»…æ˜¯ä¸€ä¸ªæ•°æ®å±•ç¤ºå™¨ï¼Œå®ƒå…·å¤‡å®æ—¶çš„ä¿¡å·å¤„ç†èƒ½åŠ›ï¼š
*   **æ–¹ä½è§’çƒ­å›¾ (Azimuth Heatmap)**: é€šè¿‡å¯¹é›·è¾¾ç«‹æ–¹ä½“æ•°æ®è¿›è¡Œ FFT å’Œé›¶å¡«å……ï¼ˆZero-paddingï¼‰ï¼Œé‡å»ºé«˜åˆ†è¾¨ç‡ï¼ˆ64 binï¼‰çš„ç©ºé—´æ˜ å°„å›¾ã€‚
*   **å¤šæ™®å‹’-è·ç¦»çƒ­å›¾**: æå–å¾„å‘é€Ÿåº¦ä¿¡æ¯ï¼Œå¹¶åœ¨åŠ¨æ€çƒ­å›¾ä¸­å®æ—¶å‘ˆç°ç›®æ ‡è¿åŠ¨è¶‹åŠ¿ã€‚

### ğŸ›¡ï¸ æ—¶åºç¨³å®šæ€§è¿‡æ»¤å¼•æ“
åœ¨ `pymmw_gui.py` ä¸­ï¼Œé¡¹ç›®é›†æˆäº†åŸºäº `scipy.spatial.cKDTree` çš„**æ—¶åºç¨³å®šæ€§è¿‡æ»¤å™¨**ï¼š
*   **æœºåˆ¶**: åœ¨è¿ç»­å¸§ä¹‹é—´æ‰§è¡Œæé€Ÿçš„ç©ºé—´è¿‘é‚»æœç´¢ã€‚
*   **æ•ˆæœ**: åªæœ‰åœ¨å¤šå¸§ä¸­æŒç»­å‡ºç°çš„ç‚¹æ‰ä¼šè¢«æ¸²æŸ“ï¼Œè¿™æå¤§åœ°é™ä½äº†å®¤å†…ç¯å¢ƒä¸­çš„â€œé¬¼å½±â€å’Œéšæœºå™ªå£°å¹²æ‰°ã€‚

### âš™ï¸ å¹¶è¡Œå¤šçº¿ç¨‹æ‰§è¡Œ
æ¡†æ¶é‡‡ç”¨äº†ä¼˜åŒ–çš„çº¿ç¨‹æ± æ¶æ„ï¼š
1.  **I/O çº¿ç¨‹**: è´Ÿè´£ä¸é—´æ–­çš„ä¸²å£åŸå§‹æ•°æ®ååã€‚
2.  **å¤„ç†çº¿ç¨‹**: æ‰§è¡Œè€—æ—¶çš„ TLV è§£ç ä¸ä¿¡å·å¤„ç†é€»è¾‘ã€‚
3.  **UI çº¿ç¨‹**: ä½¿ç”¨ Matplotlib çš„éé˜»å¡æ¸²æŸ“æ¨¡å¼ï¼Œç¡®ä¿ç•Œé¢å“åº”æµç•…ã€‚

---

## 5. æ–‡ä»¶ä¸å‡½æ•°åŠŸèƒ½è¯¦ç»†æ˜ å°„è¡¨

### 5.1 æ ¸å¿ƒå…¥å£ (source/)

#### [pymmw.py](file:///e:/NJU/Beamforming_for_Sensing/pymmw/source/pymmw.py)
*   **`_init_(data, fw)`**: åˆå§‹åŒ–å‡½æ•°,æ ¹æ®æ¥æ”¶åˆ°çš„ä¸²å£æ•°æ®åŒ¹é…å¯¹åº”çš„å›ºä»¶é©±åŠ¨ï¼ˆHandlerï¼‰ã€‚
*   **`_read_(prt, dat, timeout, handle)`**: **æ•°æ®è¯»å–ä¸»å¾ªç¯**ã€‚ç›‘æ§æ§åˆ¶ç«¯å£ï¼Œè¯†åˆ«é›·è¾¾å‹å·ï¼ŒåŠ è½½ Handlerï¼Œå¹¶åˆ†å‘æ•°æ®æµã€‚
*   **`_input_(prt)`**: é”®ç›˜è¾“å…¥å¤„ç†ï¼Œå…è®¸ç”¨æˆ·åœ¨ç»ˆç«¯ç›´æ¥å‘é›·è¾¾å‘é€ CLI å‘½ä»¤ã€‚

#### [pymmw_direct.py](file:///e:/NJU/Beamforming_for_Sensing/pymmw/source/pymmw_direct.py)
*   **`send_config_direct(cli_port, cfg)`**: ç®€åŒ–çš„é…ç½®ä¸‹å‘å‡½æ•°ï¼Œæ— éœ€ NRST å¤ä½ï¼Œç›´æ¥å‘é€é…ç½®å‘½ä»¤ã€‚
*   **`data_receiver(data_port, cfg, par)`**: ç®€åŒ–çš„æ•°æ®æ¥æ”¶çº¿ç¨‹ï¼Œç›´æ¥å¯åŠ¨å¯è§†åŒ–åº”ç”¨ã€‚
*   **`main()`**: ç®€åŒ–ç‰ˆä¸»å…¥å£ï¼Œé€‚åˆå¿«é€Ÿæµ‹è¯•å’Œè°ƒè¯•ã€‚

#### [pymmw_gui.py](file:///e:/NJU/Beamforming_for_Sensing/pymmw/source/pymmw_gui.py)
*   **`RadarGUI.__init__`**: åˆå§‹åŒ– GUI ç•Œé¢ã€çŠ¶æ€å˜é‡å’Œ Matplotlib å›¾è¡¨å¥æŸ„ã€‚
*   **`create_widgets()`**: æ„å»º Tkinter ç•Œé¢å…ƒç´ ï¼ˆæ»‘å—ã€æŒ‰é’®ã€çŠ¶æ€æ ï¼‰ã€‚
*   **`create_plots()`**: åˆ›å»º 2x2 ç½‘æ ¼çš„ Matplotlib å­å›¾ï¼ˆè·ç¦»å‰–é¢ã€3Dç‚¹äº‘ã€æ–¹ä½è§’çƒ­å›¾ã€å¤šæ™®å‹’çƒ­å›¾ï¼‰ã€‚
*   **`connect() / disconnect()`**: ç®¡ç†ä¸²å£ç”Ÿå‘½å‘¨æœŸï¼ŒåŒæ—¶æ ¹æ®é€‰ä¸­çš„ `.cfg` æ–‡ä»¶åˆå§‹åŒ–é›·è¾¾é…ç½®ã€‚
*   **`start_acquisition() / stop_acquisition()`**: æ§åˆ¶é›·è¾¾é‡‡é›†çŠ¶æ€ï¼Œå‘é€ `sensorStart/Stop` æŒ‡ä»¤ã€‚
*   **`toggle_clutter_removal()`**: åŠ¨æ€åˆ‡æ¢é›·è¾¾çš„æ‚æ³¢æŠ‘åˆ¶åŠŸèƒ½ã€‚
*   **`filter_stable_points(current_points)`**: **å…³é”®ç®—æ³•**ã€‚ä½¿ç”¨ KD-Tree å®ç°æ—¶åºç¨³å®šæ€§è¿‡æ»¤ï¼Œå‡å°‘ç‚¹äº‘æŠ–åŠ¨å’Œä¼ªå½±ã€‚
*   **`data_receiver()`**: ç‹¬ç«‹çº¿ç¨‹å‡½æ•°ï¼Œè´Ÿè´£ä»ä¸²å£å¼‚æ­¥æ¥æ”¶åŸå§‹ TLV æ•°æ®ã€‚
*   **`update_plots()`**: ä¸»çº¿ç¨‹åˆ·æ–°å‡½æ•°ï¼Œè§£æé˜Ÿåˆ—ä¸­çš„æ•°æ®å¹¶æ›´æ–° 3D ç‚¹äº‘åŠçƒ­å›¾æ˜¾ç¤ºã€‚

### 5.2 ç¡¬ä»¶é©±åŠ¨å±‚ (source/mss/)

#### [x8_mmw.py](file:///e:/NJU/Beamforming_for_Sensing/pymmw/source/mss/x8_mmw.py) (SDK 3.x æ ¸å¿ƒé©±åŠ¨)
*   **`_read_(dat, target)`**: å›ºä»¶è¯†åˆ«å‡½æ•°ï¼Œè§£æé›·è¾¾è¿”å›çš„ç‰ˆæœ¬ä¿¡æ¯ã€‚
*   **`_init_(prt, dev, cfg, dat)`**: åˆå§‹åŒ–è¾…åŠ©æ•°æ®ç«¯å£ï¼Œå¯åŠ¨æ•°æ®çº¿ç¨‹ã€‚
*   **`_conf_(cfg)`**: æ ¸å¿ƒé…ç½®é¢„å¤„ç†å™¨ã€‚è§£æ `.cfg` æ–‡æœ¬å¹¶å°†å…¶æ˜ å°„ä¸º Python å­—å…¸ï¼Œè®¡ç®—ç¼©æ”¾å› å­ã€‚
*   **`_proc_(cfg, par)`**: å¯åŠ¨æ‰€æœ‰å¯ç”¨çš„å¯è§†åŒ–åº”ç”¨æ’ä»¶ã€‚
*   **`_data_(prt)`**: è¾…åŠ©æ•°æ®çº¿ç¨‹ã€‚é€šè¿‡ `_pipe_` å°†è§£æåçš„ JSON æ•°æ®å‘é€ç»™åº”ç”¨æ’ä»¶ã€‚
*   **`_pipe_(dat)`**: å°†æ•°æ®åˆ†å‘åˆ°æ‰€æœ‰æ´»è·ƒçš„åº”ç”¨è¿›ç¨‹ã€‚
*   **`aux_buffer(input, output)`**: **åè®®è§£æå¼•æ“**ã€‚åˆ†å±‚è§£æ TLV å¤´éƒ¨ã€ç‚¹äº‘ã€è·ç¦»å‰–é¢ã€çƒ­å›¾ç­‰æ‰€æœ‰æ•°æ®åŒ…ã€‚
    *   `aux_head`: è§£æå¸§å¤´ï¼ˆå¸§å·ã€å­å¸§ä¿¡æ¯ã€ç›®æ ‡æ•°ï¼‰ã€‚
    *   `aux_struct`: è§£æ TLV ç»“æ„å¤´ï¼ˆType, Lengthï¼‰ã€‚
    *   `aux_point`: è§£æ SDK 3.x å®šä¹‰çš„ 16 å­—èŠ‚ float32 ç‚¹äº‘æ•°æ®ã€‚
    *   `aux_profile`: è§£æè·ç¦»/å™ªå£°å‰–é¢æ•°æ®ï¼ˆQ9 æ ¼å¼ï¼‰ã€‚
    *   `aux_heatmap`: è§£ææ–¹ä½è§’/å¤šæ™®å‹’çƒ­å›¾åŸå§‹æ•°æ®ã€‚
    *   `aux_info`: è§£ææ€§èƒ½ç»Ÿè®¡æ•°æ®ï¼ˆCPUè´Ÿè½½ã€å¤„ç†æ—¶é—´ï¼‰ã€‚

### 5.3 æ ¸å¿ƒæ”¯æŒåº“ (source/lib/)

#### [helper.py](file:///e:/NJU/Beamforming_for_Sensing/pymmw/source/lib/helper.py) (é›·è¾¾æ•°å­¦åº“)
*   **`twos(value, bits)`**: äºŒè¿›åˆ¶è¡¥ç è½¬æ¢ã€‚
*   **`pow2_ceil(x)`**: è®¡ç®—å‘ä¸Šå–æ•´åˆ° 2 çš„å¹‚æ¬¡ã€‚
*   **`q_to_dec / dec_to_q / q_to_db`**: Q æ ¼å¼å®šç‚¹æ•°è½¬æ¢ï¼ˆTIé›·è¾¾å¸¸ç”¨ï¼‰ã€‚
*   **`fft_range_scale_compensation / fft_doppler_scale_compensation`**: FFT ç¼©æ”¾è¡¥å¿è®¡ç®—ã€‚
*   **`num_tx_antenna / num_rx_antenna / num_virtual_antenna`**: æ ¹æ® `channelCfg` çš„æ©ç è®¡ç®—æ¿€æ´»çš„å¤©çº¿æ•°é‡ã€‚
*   **`num_range_bin / num_doppler_bin / num_angular_bin`**: è®¡ç®— FFT bin æ•°é‡ã€‚
*   **`chirps_per_loop / chirps_per_frame / samples_per_chirp / samples_per_frame`**: è®¡ç®—å¸§ç»“æ„å‚æ•°ã€‚
*   **`bandwidth(cfg)`**: è®¡ç®—æ‰«é¢‘å¸¦å®½ã€‚
*   **`range_resolution / range_maximum / range_unambiguous / range_bin`**: è®¡ç®—é›·è¾¾çš„è·ç¦»åˆ†è¾¨ç‡å’Œæ¢æµ‹æ·±åº¦æé™ã€‚
*   **`doppler_resolution / doppler_maximum`**: è®¡ç®—é€Ÿåº¦åˆ†è¾¨ç‡å’Œæœ€å¤§ä¸æ¨¡ç³Šé€Ÿåº¦ã€‚
*   **`angular_resolution`**: åŸºäºå¤©çº¿å¸ƒå±€è®¡ç®—è§’åˆ†è¾¨ç‡ï¼ˆç†è®ºå€¼ï¼‰ã€‚

#### [shell.py](file:///e:/NJU/Beamforming_for_Sensing/pymmw/source/lib/shell.py) (é€šä¿¡å±‚)
*   **`print_log(*msg)`**: æ ¼å¼åŒ–æ—¥å¿—è¾“å‡ºå‡½æ•°ã€‚
*   **`load_config(f)`**: è¯»å–å¹¶å¤„ç† TI çš„ `.cfg` æ ¼å¼æ–‡ä»¶ï¼Œæ”¯æŒç‰¹æ®Šå‚æ•°çš„ç´¢å¼•æ ‡è®°ã€‚
*   **`make_config(dump)`**: å°† Python é…ç½®å­—å…¸è½¬æ¢å›é›·è¾¾å¯è¯†åˆ«çš„æ–‡æœ¬å‘½ä»¤ã€‚
*   **`send_config(prt, cfg, cli)`**: å®ç°"æ¡æ‰‹-ä¸‹å‘-å›æ˜¾"çš„å®Œæ•´é…ç½®ä¸‹å‘æµç¨‹ã€‚
*   **`show_config(cfg)`**: æ‰“å°é›·è¾¾é…ç½®çš„äººç±»å¯è¯»æ‘˜è¦ã€‚
*   **`exec_app(name, args)`**: åŠ¨æ€ç”Ÿæˆå¤–éƒ¨è¿›ç¨‹ï¼ˆå¦‚ç‹¬ç«‹ç»˜å›¾è„šæœ¬ï¼‰ï¼Œæ”¯æŒè·¨è¿›ç¨‹ IPCï¼ˆå‘½åç®¡é“ï¼‰ã€‚

#### [ports.py](file:///e:/NJU/Beamforming_for_Sensing/pymmw/source/lib/ports.py) (USBä¸ä¸²å£ç®¡ç†)
*   **`usb_discover(vid, pid, man, pro, sid)`**: æ¢æµ‹ç³»ç»Ÿä¸­æ‰€æœ‰ç¬¦åˆæ¡ä»¶çš„ USB è®¾å¤‡ã€‚
*   **`usb_point(dev, num, end)`**: è·å– USB è®¾å¤‡çš„ç«¯ç‚¹å¥æŸ„ã€‚
*   **`usb_free(dev)`**: é‡Šæ”¾ USB è®¾å¤‡èµ„æºã€‚
*   **`serial_discover(vid, pid, sid)`**: æ ¹æ® VID/PID è‡ªåŠ¨å‘ç°å¯¹åº”çš„ä¸²å£è®¾å¤‡ã€‚

#### [probe.py](file:///e:/NJU/Beamforming_for_Sensing/pymmw/source/lib/probe.py) (XDSè°ƒè¯•å™¨æ”¯æŒ)
*   **`xds_reset(dev, delay)`**: é€šè¿‡ XDS110 è°ƒè¯•å™¨é‡ç½®é›·è¾¾èŠ¯ç‰‡ï¼ˆNRSTä¿¡å·ï¼‰ã€‚
*   **`xds_test(dev, reset)`**: æ‰§è¡Œå®Œæ•´çš„ JTAG å®Œæ•´æ€§æµ‹è¯•ï¼ŒéªŒè¯è°ƒè¯•é“¾è·¯ã€‚

#### [carrier.py](file:///e:/NJU/Beamforming_for_Sensing/pymmw/source/lib/carrier.py) (FTDIè½½æ¿æ”¯æŒ)
*   **`ftdi_reset(vid, pid, delay)`**: é€šè¿‡ FTDI èŠ¯ç‰‡çš„ GPIO å¼•è„šé‡ç½®é›·è¾¾ï¼ˆé€‚ç”¨äº DCA1000EVMï¼‰ã€‚

#### [logger.py](file:///e:/NJU/Beamforming_for_Sensing/pymmw/source/lib/logger.py) (æ—¥å¿—è®°å½•)
*   **`Logger.__init__(verbose)`**: åˆ›å»ºæ—¶é—´æˆ³æ—¥å¿—æ–‡ä»¶ã€‚
*   **`Logger.message(dataFrame)`**: å°†æ•°æ®å¸§ä»¥ JSON æ ¼å¼å†™å…¥æ—¥å¿—æ–‡ä»¶ã€‚

#### [plot.py](file:///e:/NJU/Beamforming_for_Sensing/pymmw/source/lib/plot.py) (Matplotlib è¾…åŠ©)
*   **`Line / Point`**: è‡ªå®šä¹‰çš„ 3D çº¿æ¡å’Œç‚¹ç±»ï¼Œæ”¯æŒæ¸éšæ•ˆæœã€‚
*   **`set_aspect_equal_3d(ax)`**: å¼ºåˆ¶ 3D åæ ‡è½´ç­‰æ¯”ä¾‹æ˜¾ç¤ºã€‚
*   **`move_figure(fig, xy)`**: è·¨å¹³å°çš„çª—å£ä½ç½®è°ƒæ•´å‡½æ•°ã€‚
*   **`update_data(q)`**: åå°çº¿ç¨‹ï¼Œä» stdin è¯»å– JSON æ•°æ®å¹¶æ”¾å…¥é˜Ÿåˆ—ã€‚
*   **`start_plot(fig, ax, func, fps)`**: å¯åŠ¨ Matplotlib äº‹ä»¶å¾ªç¯å’Œå®šæ—¶å™¨ã€‚

#### [capture.py](file:///e:/NJU/Beamforming_for_Sensing/pymmw/source/lib/capture.py) (æ•°æ®æ•è·)
*   **`update_data(q)`**: ä» stdin è¯»å– JSON æ•°æ®ã€‚
*   **`update_log(q, func)`**: ä»é˜Ÿåˆ—ä¸­æå–æ•°æ®å¹¶è°ƒç”¨å¤„ç†å‡½æ•°ã€‚
*   **`start_capture(func)`**: å¯åŠ¨æ•°æ®æ•è·æµç¨‹ã€‚

#### [utility.py](file:///e:/NJU/Beamforming_for_Sensing/pymmw/source/lib/utility.py) (å·¥å…·é›†)
*   **`hex2dec(value)`**: åå…­è¿›åˆ¶å­—ç¬¦ä¸²è½¬æ•´æ•°ã€‚
*   **`dec2hex(value, delim)`**: æ•´æ•°è½¬åå…­è¿›åˆ¶å­—ç¬¦ä¸²ã€‚
*   **`dec2bit(value, bits)`**: æ•´æ•°è½¬äºŒè¿›åˆ¶ä½å…ƒç»„ã€‚
*   **`intify(value, base, size)`**: å®ç°åº•å±‚çš„å­—èŠ‚åºè½¬æ¢ï¼ˆLittle-endian è½¬å¤§ç«¯æ•´æ•°ï¼‰ã€‚
*   **`split(value, size)`**: å°†å­—ç¬¦ä¸²æŒ‰å›ºå®šé•¿åº¦åˆ†ç»„ã€‚

### 5.4 åŠŸèƒ½æ’ä»¶å±‚ (source/app/)

#### [plot_range_profile.py](file:///e:/NJU/Beamforming_for_Sensing/pymmw/source/app/plot_range_profile.py)
*   **`update(data, history)`**: å®æ—¶è§£ææ•°æ®åŒ…ï¼Œä½¿ç”¨ `ax.plot` ç»˜åˆ¶è·ç¦»-èƒ½é‡æ›²çº¿ï¼Œæ”¯æŒå™ªå£°å‰–é¢å åŠ å’Œæ£€æµ‹ç‚¹æ ‡è®°ã€‚

#### [plot_detected_objects.py](file:///e:/NJU/Beamforming_for_Sensing/pymmw/source/app/plot_detected_objects.py)
*   **`update(data)`**: ä½¿ç”¨ `Axes3D.scatter` å®ç°ä¸‰ç»´ç©ºé—´ç‚¹çš„å®æ—¶æŠ•å½±ï¼Œæ”¯æŒé€Ÿåº¦ç¼–ç çš„é¢œè‰²æ˜ å°„å’Œä¸‰è§†å›¾æŠ•å½±ã€‚

#### [plot_range_azimuth_heat_map.py](file:///e:/NJU/Beamforming_for_Sensing/pymmw/source/app/plot_range_azimuth_heat_map.py)
*   **`onclick(event)`**: é¼ æ ‡äº¤äº’ï¼Œåˆ‡æ¢çƒ­å›¾çš„æ˜¾ç¤ºæ¨¡å¼ï¼ˆç›¸å¯¹/ç»å¯¹ï¼‰ã€‚
*   **`update(data)`**: è§£ææ–¹ä½è§’æ•°æ®ï¼Œæ‰§è¡Œ FFT å’Œæ’å€¼ï¼Œç”Ÿæˆæåæ ‡çƒ­å›¾ã€‚

#### [plot_range_doppler_heat_map.py](file:///e:/NJU/Beamforming_for_Sensing/pymmw/source/app/plot_range_doppler_heat_map.py)
*   **`onclick(event)`**: é¼ æ ‡äº¤äº’ï¼Œåˆ‡æ¢ç¼©æ”¾æ¨¡å¼ï¼ˆçº¿æ€§/å¯¹æ•°ï¼‰å’Œé¢œè‰²èŒƒå›´ã€‚
*   **`update(data)`**: è§£æå¤šæ™®å‹’æ•°æ®ï¼Œç”Ÿæˆè·ç¦»-é€Ÿåº¦çƒ­å›¾ã€‚

#### [simple_cfar_clustering.py](file:///e:/NJU/Beamforming_for_Sensing/pymmw/source/app/simple_cfar_clustering.py)
*   **æ ¸å¿ƒå‡½æ•°**: å®ç°åŸºäº DBSCAN çš„ç®€å•èšç±»ç®—æ³•ï¼Œå°†ç¦»æ•£ç‚¹äº‘èšåˆä¸ºç›®æ ‡ç°‡ã€‚

#### [capture_range_profile.py](file:///e:/NJU/Beamforming_for_Sensing/pymmw/source/app/capture_range_profile.py)
*   **æ ¸å¿ƒå‡½æ•°**: å°†è·ç¦»å‰–é¢æ•°æ®å¯¼å‡ºå¹¶ä¿å­˜åˆ°æœ¬åœ° `.log` æ–‡ä»¶ã€‚

#### [monitor_activity.py](file:///e:/NJU/Beamforming_for_Sensing/pymmw/source/app/monitor_activity.py)
*   **`update(data)`**: ç›‘æ§æ¯ä¸ªè·ç¦» bin çš„ä¿¡å™ªæ¯”å·®å€¼ï¼Œè¾“å‡ºæ´»åŠ¨æ£€æµ‹æ—¥å¿—ã€‚

#### [dft_if_signal.py](file:///e:/NJU/Beamforming_for_Sensing/pymmw/source/app/dft_if_signal.py)
*   **`plot_buffer(fig, idx, xy, a, k, n, b)`**: ç»˜åˆ¶å¤šå¤©çº¿çš„IFä¿¡å·DFTç»“æœã€‚
*   **`update_data(fig, a, k, n, s, b)`**: ä»å†…å­˜è½¬å‚¨ä¸­è¯»å–åŸå§‹ADCæ•°æ®å¹¶è¿›è¡Œå¯è§†åŒ–ï¼ˆé«˜çº§è°ƒè¯•åŠŸèƒ½ï¼‰ã€‚

---

## 6. ä¸“å®¶è¯„ä»·æ€»ç»“
### é¡¹ç›®ä¼˜åŠ¿
- **æä½³çš„æ‰©å±•æ€§**: å¼€å‘è€…é€šè¿‡å‘ `mss` ç›®å½•æ·»åŠ æ–°æ–‡ä»¶ï¼Œå³å¯è½»æ¾æ”¯æŒæ–°å‹å·ç¡¬ä»¶æˆ–è‡ªå®šä¹‰ç®—æ³•ã€‚
- **ç‰©ç†å‚æ•°ä¸¥è°¨**: æ·±åº¦ç»“åˆ FMCW é›·è¾¾åŸç†ï¼Œæ‰€æœ‰æ˜¾ç¤ºå‚æ•°å‡ç»è¿‡ç‰©ç†æ ¡éªŒã€‚
- **å·¥ç¨‹åŒ–å®Œå¤‡**: å¦¥å–„å¤„ç†äº†ä¸²å£è¶…æ—¶ã€USB è®¾å¤‡å‘ç°ä»¥åŠç¡¬ä»¶é‡ç½®ç­‰å¤æ‚çš„å·¥ç¨‹ç»†èŠ‚ã€‚

### æœªæ¥æ¼”è¿›å»ºè®®
1.  **æ¸²æŸ“å¼•æ“å‡çº§**: å¯¹äºæé«˜å¯†åº¦çš„ç‚¹äº‘åœºæ™¯ï¼Œå»ºè®®ä» Matplotlib è¿ç§»è‡³ `pyqtgraph` æˆ– `VisPy` ä»¥è·å¾—æ›´é«˜çš„åˆ·æ–°ç‡ã€‚
2.  **é«˜çº§ç®—æ³•é›†æˆ**: å‡­å€Ÿå…¶æ¸…æ™°çš„æ¨¡å—åŒ–ç»“æ„ï¼Œè¯¥å¹³å°éå¸¸é€‚åˆä½œä¸ºé›†æˆ **èšç±»(DBScan)**ã€**è½¨è¿¹è·Ÿè¸ª(GNN/JPDA)** æˆ– **åŠ¨ä½œè¯†åˆ«(CNN/RNN)** ç®—æ³•çš„å®éªŒå°ã€‚

---
*ç”± Antigravity AI ç”Ÿæˆ - æ¯«ç±³æ³¢é›·è¾¾ç³»ç»Ÿä¸“å®¶*
